var MainRouter=Backbone.Router.extend({routes:{"":"listView","items/:id":"itemView"},initialize:function(){console.log("the router is born"),etsyItems.hipstermaticFetch(fetchObject)},listView:function(){etsyItems.fillItemList()},itemView:function(a){var b=etsyItems.findWhere({listing_id:Number(a)});b?new ItemView({model:b}):location.hash=""}}),EtsyItem=Backbone.Model.extend({idAttribute:"listing_id",initialize:function(){}}),EtsyItemsCollection=Backbone.Collection.extend({model:EtsyItem,initialize:function(){this.endpoint="https://openapi.etsy.com/v2/listings/active.js?callback=randomFunction",this.limit=20,this.sort_by="price",this.sort_order="down",this.keywords="bowtie,mens",this.fields="title,price,description,listing_id,url",this.includes="Images",this.api_key="kr9rjq7dc9c24jv6fccq2hus",this.on("add",function(a){new ListView({model:a})}),this.fillItemList=function(){$(".list-viewer").empty(),this.each(function(a){new ListView({model:a})}),etsyItems.first()&&(new ItemView({model:etsyItems.first()}),location.hash="items/"+etsyItems.first().get("listing_id"))},this.hipstermaticFetch=function(a){var b=hipsterWords.sample(2);etsyItems.keywords=b.join("+"),$(".search-controls").html('Searching for <span class="keywords">'+b.join(" and ")+"</span>. . ."),$(".search-controls").append('<span class="small search-again cleared-out"><br>too many people know about this already?     <button type="button" class="btn btn-default btn-lg hipstermatic-search-btn">Be Unique-er</button></span>'),etsyItems.fetch(a)}},parse:function(a){return a.results},comparator:function(a){return-a.get("price")},url:function(){var a=this.endpoint;return this.limit&&(a+="&limit="+this.limit),this.sort_by&&(a+="&sorty_by="+this.sorty_by),this.sort_order&&(a+="&sort_order="+this.sort_order),this.keywords&&(a+="&keywords="+this.keywords),this.fields&&(a+="&fields="+this.fields),this.includes&&(a+="&includes="+this.includes),a+"&api_key="+this.api_key}}),ItemView=Backbone.View.extend({className:"item-view panel panel-default",initialize:function(){this.render(),$(".item-viewer").html(this.el)},renderTemplate:_.template($("#item-view-template").text()),render:function(){this.$el.html(this.renderTemplate(this.model))}}),ListView=Backbone.View.extend({tagName:"a",className:"list-view list-group-item clearfix",initialize:function(){this.setHref(),this.render(),$(".list-viewer").append(this.el)},renderTemplate:_.template($("#list-view-template").text()),render:function(){this.$el.html(this.renderTemplate(this.model))},setHref:function(){var a=this.model.get("listing_id"),b="#/items/"+a;this.$el.attr({href:b})}}),hipsterWords={paragraph:"IPhone 3 wolf moon before they sold out master cleanse.   Paleo kogi bicycle rights, Portland bitters readymade chambray viral. Plaid  dreamcatcher blog American Apparel raw denim cliche selfies. VHS fingerstache  aesthetic shabby chic brunch umami leggings, locavore bicycle rights ugh. Ennui  authentic disrupt photo booth. Four loko Vice iPhone, salvia chillwave 3 wolf  moon Tumblr yr quinoa banjo 90's McSweeney's ethnic. +1 meggings bespoke  Schlitz. Godard whatever freegan, tofu fixie +1 8-bit cred viral quinoa authentic  Intelligentsia jean shorts 90's. Salvia Blue Bottle biodiesel polaroid Brooklyn XOXO.  Gluten-free organic lomo, cliche gastropub tattooed ethnic aesthetic ennui dreamcatcher  retro +1 scenester pour-over. 3 wolf moon roof party farm-to-table, vinyl bitters lo-fi  keytar Godard kale chips gentrify VHS drinking vinegar American Apparel. Trust fund raw  denim cornhole Austin meggings Terry Richardson, selfies cray jean shorts leggings tofu  Banksy you probably haven't heard of them. Post-ironic Neutra readymade mixtape. 8-bit  disrupt iPhone Terry Richardson cliche. Irony deep v put a bird on it direct trade Echo Park.  Asymmetrical Shoreditch narwhal Cosby sweater vinyl mumblecore, Odd Future 90's messenger  bag High Life disrupt Truffaut meggings kogi. Butcher lomo Brooklyn, retro polaroid direct  trade fashion axe ethical stumptown selvage pug Schlitz. Deep v tote bag kale chips, normcore  McSweeney's leggings hella typewriter. Banh mi mixtape plaid, sustainable Tumblr messenger  bag cardigan polaroid farm-to-table Blue Bottle fanny pack you probably haven't heard of them  biodiesel flannel artisan. Yr Austin forage, fixie organic Marfa chillwave iPhone beard  distillery master cleanse shabby chic scenester single-origin coffee. Direct trade PBR&B  typewriter literally, slow-carb sustainable authentic. Pitchfork hella Pinterest, craft beer selvage  tattooed readymade. Ugh post-ironic Bushwick, ethnic tofu Tumblr typewriter XOXO four loko  jean shorts PBR&B sriracha iPhone. VHS occupy skateboard Odd Future gluten-free. Asymmetrical  quinoa whatever messenger bag. Master cleanse forage DIY brunch, quinoa fixie letterpress  ethnic. Shoreditch +1 biodiesel, jean shorts American Apparel chia synth pour-over Neutra shabby chic quinoa. Mlkshk lo-fi lomo, trust fund Austin beard VHS literally McSweeney's occupy. Mixtape put a bird on it pour-over art party ugh, bicycle rights PBR&B. Tumblr banjo XOXO pickled trust fund, sriracha master cleanse. Fashion axe ethnic mustache church-key lo-fi. Tumblr Wes Anderson whatever typewriter, ethical literally forage Marfa meh locavore. Sustainable pickled Wes Anderson, ethical trust fund aesthetic readymade occupy XOXO cliche bitters ethnic. Hashtag before they sold out Banksy, VHS wolf chambray irony trust fund Vice. Narwhal Helvetica iPhone, asymmetrical Odd Future Shoreditch chia craft beer pour-over McSweeney's lomo photo booth four loko forage. Normcore skateboard whatever messenger bag brunch. 90's gentrify tattooed forage artisan shabby chic, beard small batch Tumblr gluten-free post-ironic Schlitz yr flannel 8-bit. Food truck +1 keytar Portland pork belly, 90's four loko raw denim banh mi Helvetica photo booth readymade Shoreditch pop-up. Hoodie Schlitz bicycle rights DIY roof party, vinyl chillwave locavore. Gluten-free scenester Odd Future, 8-bit hoodie aesthetic YOLO Terry Richardson letterpress pug ethical lomo. Tattooed cardigan before they sold out selfies Pitchfork selvage. Pinterest umami freegan, viral paleo Tonx wayfarers before they sold out distillery. Terry Richardson asymmetrical gentrify XOXO Marfa deep v. Blue Bottle Tumblr chillwave jean shorts swag, pug polaroid asymmetrical before they sold out cred tofu retro Godard. Brooklyn lo-fi sustainable blog. Scenester tousled biodiesel XOXO, DIY lomo letterpress meh post-ironic. Helvetica readymade put a bird on it, Tumblr tofu 3 wolf moon Banksy ethnic High Life drinking vinegar synth mlkshk. Direct trade single-origin coffee farm-to-table kitsch disrupt, VHS iPhone umami pug lomo. Pour-over hashtag roof party keffiyeh Thundercats, tofu Echo Park banh mi Intelligentsia bitters. Scenester 3 wolf moon vinyl paleo +1 Austin, try-hard vegan messenger bag gentrify freegan organic. Irony stumptown selfies sustainable hashtag. Carles pop-up banh mi, vegan Helvetica mumblecore letterpress post-ironic food truck Bushwick artisan Vice kale chips literally. Master cleanse Pitchfork banjo Blue Bottle, mlkshk Williamsburg craft beer kitsch. Marfa fingerstache post-ironic Pitchfork, plaid kitsch bicycle rights you probably haven't heard of them squid yr disrupt vegan Vice. Fap yr paleo organic Austin, wolf next level pop-up locavore Portland Vice. Bicycle rights Blue Bottle Echo Park Tumblr master cleanse. Pork belly gastropub fanny pack, post-ironic raw denim banh mi yr butcher retro bitters pickled tofu fap. Ennui hoodie yr slow-carb. Kitsch tousled seitan, mumblecore Pinterest direct trade Godard kale chips salvia. Plaid XOXO food truck typewriter Helvetica, chambray kale chips. Ugh forage lo-fi, mixtape VHS DIY before they sold out. Tattooed Echo Park ethnic quinoa Odd Future art party, American Apparel small batch Vice food truck Thundercats fingerstache. Cosby sweater sartorial vinyl Tonx next level selvage. Banksy slow-carb Vice, Terry Richardson before they sold out selvage vinyl. Odd Future banjo jean shorts banh mi 90's disrupt. Organic Williamsburg flannel 3 wolf moon mumblecore. Letterpress tattooed put a bird on it irony, drinking vinegar +1 single-origin coffee pug shabby chic Williamsburg selvage. Seitan bespoke fap, retro polaroid artisan iPhone Truffaut street art. Distillery viral American Apparel keffiyeh, skateboard banjo fanny pack. Irony deep v kitsch Tonx, pour-over Tumblr disrupt post-ironic direct trade.",sample:function(a){return this.paragraph=this.paragraph.replace(/[|&;$%@"<>()+,.]|them|\s\w\s|\sof\s|\sout\s|\syou\s|\sput\s|\son\s|\sit\s|\sthey\s/g,""),paragraphArray=this.paragraph.split(/\s+/g).slice(1,-1),paragraphArray=_.reject(paragraphArray,function(a){return""==a}),_.sample(paragraphArray,a)}};$(".search-controls").on("click",".hipstermatic-search-btn",function(){etsyItems.hipstermaticFetch(fetchObject)}),fetchObject={success:function(){etsyItems.isEmpty()?(console.log("no results... let's try something else..."),$(".search-again").addClass("cleared-out"),etsyItems.hipstermaticFetch(fetchObject)):(etsyItems.fillItemList(),console.log("fetch is complete. etsyItems contains: ",etsyItems.models.length),$(".search-again").removeClass("cleared-out"))},error:function(){console.log("there was a problem with fetch")},dataType:"jsonp"},etsyItems=new EtsyItemsCollection,router=new MainRouter,Backbone.history.start();